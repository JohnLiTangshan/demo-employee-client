"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const app_po_1 = require("./app.po");
const protractor_1 = require("protractor");
const employee_1 = require("./employee");
function sampleEmployee() {
    const employee = new employee_1.Employee();
    employee.email = 'test@test.com',
        employee.firstName = 'test1';
    employee.lastName = 'test2';
    employee.department = 'Test';
    employee.location = 'test';
    employee.phone = '12345';
    employee.title = 'Manager';
    return employee;
}
describe('workspace-project App', () => {
    let page;
    beforeEach(() => {
        page = new app_po_1.AppPage();
    });
    it('should display welcome message', () => {
        page.navigateTo();
        expect(page.getTitleText()).toEqual('Welcome to Employee Information System');
    });
    it('should go to add employee page after click Add Employee button', () => {
        page.navigateTo();
        page.toAddEmployee();
        expect(page.addEmployeeBtn().isDisplayed()).toBe(true);
    });
    it('should disable Add employee button when email is not correct format', () => {
        page.navigateTo();
        page.toAddEmployee();
        const employee = sampleEmployee();
        employee.email = "test";
        page.enterNewEmployeeInfo(employee);
        expect(page.addEmployeeBtn().isEnabled()).toBe(false);
    });
    it('should enable Add employee button when employee info is correct', () => {
        page.navigateTo();
        page.toAddEmployee();
        const employee = sampleEmployee();
        page.enterNewEmployeeInfo(employee);
        expect(page.addEmployeeBtn().isEnabled()).toBe(true);
    });
    function deleteEmployee(email) {
        page.getDeleteEmployeeButton(email).click();
    }
    it('should be able to add one employee and delete', () => {
        page.navigateTo();
        page.toAddEmployee();
        const employee = sampleEmployee();
        page.enterNewEmployeeInfo(employee);
        page.addEmployeeBtn().click();
        expect(page.getEmailInTable(employee.email).isDisplayed()).toBe(true);
        deleteEmployee(employee.email);
        expect(page.getEmailInTable(employee.email).isPresent()).toBe(false);
    });
    it('should be able to update one employee', () => {
        page.navigateTo();
        page.toAddEmployee();
        const employee = sampleEmployee();
        page.enterNewEmployeeInfo(employee);
        page.addEmployeeBtn().click();
        page.getEditEmployeeButton(employee.email).click();
        employee.firstName = "DEMO";
        page.updateEmployeeInfo(employee);
        page.getUpdateEmployeeButton().click();
        expect(page.getFirstNameInTable(employee.email).getText()).toBe("DEMO");
        deleteEmployee(employee.email);
    });
    afterEach(async () => {
        // Assert that there are no errors emitted from the browser
        const logs = await protractor_1.browser.manage().logs().get(protractor_1.logging.Type.BROWSER);
        expect(logs).not.toContain(jasmine.objectContaining({
            level: protractor_1.logging.Level.SEVERE,
        }));
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmUyZS1zcGVjLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiYXBwLmUyZS1zcGVjLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEscUNBQW1DO0FBQ25DLDJDQUE4QztBQUM5Qyx5Q0FBc0M7QUFFdEMsU0FBUyxjQUFjO0lBQ3JCLE1BQU0sUUFBUSxHQUFHLElBQUksbUJBQVEsRUFBRSxDQUFDO0lBQ2hDLFFBQVEsQ0FBQyxLQUFLLEdBQUcsZUFBZTtRQUNoQyxRQUFRLENBQUMsU0FBUyxHQUFHLE9BQU8sQ0FBQztJQUM3QixRQUFRLENBQUMsUUFBUSxHQUFHLE9BQU8sQ0FBQztJQUM1QixRQUFRLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQztJQUM3QixRQUFRLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQztJQUMzQixRQUFRLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQztJQUN6QixRQUFRLENBQUMsS0FBSyxHQUFHLFNBQVMsQ0FBQztJQUMzQixPQUFPLFFBQVEsQ0FBQztBQUNsQixDQUFDO0FBRUQsUUFBUSxDQUFDLHVCQUF1QixFQUFFLEdBQUcsRUFBRTtJQUNyQyxJQUFJLElBQWEsQ0FBQztJQUVsQixVQUFVLENBQUMsR0FBRyxFQUFFO1FBQ2QsSUFBSSxHQUFHLElBQUksZ0JBQU8sRUFBRSxDQUFDO0lBQ3ZCLENBQUMsQ0FBQyxDQUFDO0lBRUgsRUFBRSxDQUFDLGdDQUFnQyxFQUFFLEdBQUcsRUFBRTtRQUN4QyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7UUFDbEIsTUFBTSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyx3Q0FBd0MsQ0FBQyxDQUFDO0lBQ2hGLENBQUMsQ0FBQyxDQUFDO0lBRUgsRUFBRSxDQUFDLGdFQUFnRSxFQUFFLEdBQUcsRUFBRTtRQUN4RSxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7UUFDbEIsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQ3JCLE1BQU0sQ0FB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QUMsTUFBTSxDQUFDLENBQUM7UUFDeEUsY0FBYyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNqQyxDQUFDLENBQUMsQ0FBQTtJQUVGLFNBQVMsQ0FBQyxLQUFLLElBQUksRUFBRTtRQUNuQiwyREFBMkQ7UUFDM0QsTUFBTSxJQUFJLEdBQUcsTUFBTSxvQkFBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxvQkFBTyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNyRSxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLENBQUM7WUFDbEQsS0FBSyxFQUFFLG9CQUFPLENBQUMsS0FBSyxDQUFDLE1BQU07U0FDWCxDQUFDLENBQUMsQ0FBQztJQUN2QixDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUGFnZSB9IGZyb20gJy4vYXBwLnBvJztcbmltcG9ydCB7IGJyb3dzZXIsIGxvZ2dpbmcgfSBmcm9tICdwcm90cmFjdG9yJztcbmltcG9ydCB7IEVtcGxveWVlIH0gZnJvbSAnLi9lbXBsb3llZSc7XG5cbmZ1bmN0aW9uIHNhbXBsZUVtcGxveWVlKCk6IEVtcGxveWVlIHtcbiAgY29uc3QgZW1wbG95ZWUgPSBuZXcgRW1wbG95ZWUoKTtcbiAgZW1wbG95ZWUuZW1haWwgPSAndGVzdEB0ZXN0LmNvbScsXG4gIGVtcGxveWVlLmZpcnN0TmFtZSA9ICd0ZXN0MSc7XG4gIGVtcGxveWVlLmxhc3ROYW1lID0gJ3Rlc3QyJztcbiAgZW1wbG95ZWUuZGVwYXJ0bWVudCA9ICdUZXN0JztcbiAgZW1wbG95ZWUubG9jYXRpb24gPSAndGVzdCc7XG4gIGVtcGxveWVlLnBob25lID0gJzEyMzQ1JztcbiAgZW1wbG95ZWUudGl0bGUgPSAnTWFuYWdlcic7XG4gIHJldHVybiBlbXBsb3llZTtcbn1cblxuZGVzY3JpYmUoJ3dvcmtzcGFjZS1wcm9qZWN0IEFwcCcsICgpID0+IHtcbiAgbGV0IHBhZ2U6IEFwcFBhZ2U7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgcGFnZSA9IG5ldyBBcHBQYWdlKCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgZGlzcGxheSB3ZWxjb21lIG1lc3NhZ2UnLCAoKSA9PiB7XG4gICAgcGFnZS5uYXZpZ2F0ZVRvKCk7XG4gICAgZXhwZWN0KHBhZ2UuZ2V0VGl0bGVUZXh0KCkpLnRvRXF1YWwoJ1dlbGNvbWUgdG8gRW1wbG95ZWUgSW5mb3JtYXRpb24gU3lzdGVtJyk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgZ28gdG8gYWRkIGVtcGxveWVlIHBhZ2UgYWZ0ZXIgY2xpY2sgQWRkIEVtcGxveWVlIGJ1dHRvbicsICgpID0+IHtcbiAgICBwYWdlLm5hdmlnYXRlVG8oKTtcbiAgICBwYWdlLnRvQWRkRW1wbG95ZWUoKTtcbiAgICBleHBlY3QocGFnZS5hZGRFbXBsb3llZUJ0bigpLmlzRGlzcGxheWVkKCkpLnRvQmUodHJ1ZSk7XG4gIH0pO1xuICBcbiAgaXQoJ3Nob3VsZCBkaXNhYmxlIEFkZCBlbXBsb3llZSBidXR0b24gd2hlbiBlbWFpbCBpcyBub3QgY29ycmVjdCBmb3JtYXQnLCAoKSA9PiB7XG5cbiAgICBwYWdlLm5hdmlnYXRlVG8oKTtcbiAgICBwYWdlLnRvQWRkRW1wbG95ZWUoKTtcbiAgICBjb25zdCBlbXBsb3llZSA9IHNhbXBsZUVtcGxveWVlKCk7XG4gICAgZW1wbG95ZWUuZW1haWwgPSBcInRlc3RcIjtcbiAgICBwYWdlLmVudGVyTmV3RW1wbG95ZWVJbmZvKGVtcGxveWVlKTtcbiAgICBleHBlY3QocGFnZS5hZGRFbXBsb3llZUJ0bigpLmlzRW5hYmxlZCgpKS50b0JlKGZhbHNlKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBlbmFibGUgQWRkIGVtcGxveWVlIGJ1dHRvbiB3aGVuIGVtcGxveWVlIGluZm8gaXMgY29ycmVjdCcsICgpID0+IHtcblxuICAgIHBhZ2UubmF2aWdhdGVUbygpO1xuICAgIHBhZ2UudG9BZGRFbXBsb3llZSgpO1xuICAgIGNvbnN0IGVtcGxveWVlID0gc2FtcGxlRW1wbG95ZWUoKTtcbiAgICBwYWdlLmVudGVyTmV3RW1wbG95ZWVJbmZvKGVtcGxveWVlKTtcbiAgICBleHBlY3QocGFnZS5hZGRFbXBsb3llZUJ0bigpLmlzRW5hYmxlZCgpKS50b0JlKHRydWUpO1xuICB9KTtcblxuICBmdW5jdGlvbiBkZWxldGVFbXBsb3llZShlbWFpbDogc3RyaW5nKSB7XG4gICAgcGFnZS5nZXREZWxldGVFbXBsb3llZUJ1dHRvbihlbWFpbCkuY2xpY2soKTtcbiAgfVxuXG4gIGl0KCdzaG91bGQgYmUgYWJsZSB0byBhZGQgb25lIGVtcGxveWVlIGFuZCBkZWxldGUnLCAoKSA9PiB7XG4gICAgcGFnZS5uYXZpZ2F0ZVRvKCk7XG4gICAgcGFnZS50b0FkZEVtcGxveWVlKCk7XG4gICAgY29uc3QgZW1wbG95ZWUgPSBzYW1wbGVFbXBsb3llZSgpO1xuICAgIHBhZ2UuZW50ZXJOZXdFbXBsb3llZUluZm8oZW1wbG95ZWUpO1xuICAgIHBhZ2UuYWRkRW1wbG95ZWVCdG4oKS5jbGljaygpO1xuICAgIGV4cGVjdChwYWdlLmdldEVtYWlsSW5UYWJsZShlbXBsb3llZS5lbWFpbCkuaXNEaXNwbGF5ZWQoKSkudG9CZSh0cnVlKTtcbiAgICBkZWxldGVFbXBsb3llZShlbXBsb3llZS5lbWFpbCk7XG4gICAgZXhwZWN0KHBhZ2UuZ2V0RW1haWxJblRhYmxlKGVtcGxveWVlLmVtYWlsKS5pc1ByZXNlbnQoKSkudG9CZShmYWxzZSk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgYmUgYWJsZSB0byB1cGRhdGUgb25lIGVtcGxveWVlJywgKCkgPT4ge1xuICAgIHBhZ2UubmF2aWdhdGVUbygpO1xuICAgIHBhZ2UudG9BZGRFbXBsb3llZSgpO1xuICAgIGNvbnN0IGVtcGxveWVlID0gc2FtcGxlRW1wbG95ZWUoKTtcbiAgICBwYWdlLmVudGVyTmV3RW1wbG95ZWVJbmZvKGVtcGxveWVlKTtcbiAgICBwYWdlLmFkZEVtcGxveWVlQnRuKCkuY2xpY2soKTtcblxuICAgIHBhZ2UuZ2V0RWRpdEVtcGxveWVlQnV0dG9uKGVtcGxveWVlLmVtYWlsKS5jbGljaygpO1xuXG4gICAgZW1wbG95ZWUuZmlyc3ROYW1lID0gXCJERU1PXCI7XG4gICAgcGFnZS51cGRhdGVFbXBsb3llZUluZm8oZW1wbG95ZWUpO1xuXG4gICAgcGFnZS5nZXRVcGRhdGVFbXBsb3llZUJ1dHRvbigpLmNsaWNrKCk7XG5cbiAgICBleHBlY3QocGFnZS5nZXRGaXJzdE5hbWVJblRhYmxlKGVtcGxveWVlLmVtYWlsKS5nZXRUZXh0KCkpLnRvQmUoXCJERU1PXCIpO1xuICAgIGRlbGV0ZUVtcGxveWVlKGVtcGxveWVlLmVtYWlsKTtcbiAgfSlcblxuICBhZnRlckVhY2goYXN5bmMgKCkgPT4ge1xuICAgIC8vIEFzc2VydCB0aGF0IHRoZXJlIGFyZSBubyBlcnJvcnMgZW1pdHRlZCBmcm9tIHRoZSBicm93c2VyXG4gICAgY29uc3QgbG9ncyA9IGF3YWl0IGJyb3dzZXIubWFuYWdlKCkubG9ncygpLmdldChsb2dnaW5nLlR5cGUuQlJPV1NFUik7XG4gICAgZXhwZWN0KGxvZ3MpLm5vdC50b0NvbnRhaW4oamFzbWluZS5vYmplY3RDb250YWluaW5nKHtcbiAgICAgIGxldmVsOiBsb2dnaW5nLkxldmVsLlNFVkVSRSxcbiAgICB9IGFzIGxvZ2dpbmcuRW50cnkpKTtcbiAgfSk7XG59KTtcbiJdfQ==